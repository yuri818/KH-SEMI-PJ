<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GYM</title>
  <!-- 아이콘 fontawesome -->
  <script src="https://kit.fontawesome.com/afb658d092.js" crossorigin="anonymous"></script>
  <style> /* 영어폰트 -구글 */
    @import url('https://fonts.googleapis.com/css2?family=Caveat:wght@500&family=Dosis&display=swap');
    </style>
  <!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="./gym-sc-gong-regi.css">
</head>
<body> 
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-storage.js"></script>
  <script>
     const firebaseConfig = {
    apiKey: "AIzaSyDtVA_IYoYtVpeDuUF_UmKLFwOlg44CAic",
    authDomain: "terrgym-demo-bac70.firebaseapp.com",
    databaseURL: "https://terrgym-demo-bac70-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "terrgym-demo-bac70",
    storageBucket: "terrgym-demo-bac70.appspot.com",
    messagingSenderId: "679211028162",
    appId: "1:679211028162:web:d6839267c5c25146ccb55b"
  };

    firebase.initializeApp(firebaseConfig);
  </script>
  <div class="body_wrap">
    <div class="left_line"></div>
  <!-- ////////// header 시작 /////////// -->
    <header class="header">
      <div class="header_container">
        <div class="header_left">
          <h1>DaGYM</h1> <!-- img태그로 바꾸기 <img class ="logo"-->
        </div>
        <div class="header_center">
          <nav class="main_nav">
            <ul class="header_ul01"> 
              <li class="about"><a href="#">&nbsp;ABOUT&nbsp;</a>
                <ul class="header_ul02">
                  <li><a href="#">회사소개</a></li>
                  <li><a href="#">CONTACTS</a></li>
                </ul>
              </li>
              
              <li class="branch"><a href="#">&nbsp;지점안내&nbsp;</a></li>
    
              <li class="program"><a href="#">&nbsp;프로그램&nbsp;</a>
                <ul class="header_ul02">
                  <li><a href="#">PT</a></li>
                  <li><a href="#">GX</a></li>
                  <li><a href="#">BASIC</a></li>
                </ul>
              </li>
      
              <li class="private_service"><a href="#">&nbsp;회원전용&nbsp;</a>
                <ul class="header_ul02">
                  <li><a href="#">수강신청</a></li>
                  <li><a href="#">내 시간표</a></li>
                  <li><a href="#">신체 정보</a></li>
                  <li><a href="#">이용권 구매</a></li>
                  <li><a href="#">구매 내역</a></li>
                  <li><a href="#">설문조사</a></li>
                </ul>
              </li>
              
              <li class="service_center"><a href="#">&nbsp;고객센터&nbsp;</a>
                <ul class="header_ul02">
                  <li><a href="#">공지사항</a></li>
                  <li><a href="#">QnA</a></li>
                  <li><a href="#">후기</a></li>
                </ul>
              </li>
            </ul>
          </nav>
        </div>
        <div class="header_right">
          <button class="home_login">로그인</button>
          <a href="" class="btnMenu"><i class="fas fa-bars"></i></a>
        </div>
      </div>
    </header>
    <!-- ////////// header 끝 main 시작 /////////// -->
    <main class="main">
      <section class="section01">
        <div> <h2> 공지사항/자주하는질문 - 관리자만 쓸 수 있음 </h2></div>
      </section>
      <br><br><br>
      <form action="/insertProc" method="post">
     <section class="section02">
    <div class="container"><div class="form-group">
      <select class="form-select" aria-label="Default select example">
        <option selected>카테고리</option>
        <option value="1">공지사항</option>
        <option value="2">이벤트</option>
      </select>
    </div>
    <br>
          <div class="form-group">
            <label>제목</label>
            <input type="text" class="form-control" id="subject" name="subject" placeholder="제목을 입력하세요.">
          </div><br>
          <div class="form-group">
            <label>작성일</label>
            <br>
            <input type="text" class="form-control" id="write_date" name="writer" placeholder="내용을 입력하세요.">
          </div><br>
          <div class="form-group">
            <label>작성자</label>
            <input type="text" class="form-control" id="writer" name="writer" placeholder="내용을 입력하세요.">
          </div><br>
          <div class="form-group">
            <label>내용</label>
            <textarea class="form-control" id="content" name="content" rows="3"></textarea>
          </div><br>
          <div class="last">
          <input type="file" class="form-control" name="image" id="image">
          <br>
           <button type="button" class="btn btn-primary" id="register">글쓰기</button>
        </div>
        </form>
      </section>
    </main>
    <!-- ////////// main 끝 footer 시작 /////////// -->
    <footer class="footer">
      <div class="footer_container">
        <div class="foot_box">
          <div class="foot_link">
            <a href="">회사소개</a> | 
            <a href="">개인정보처리방침</a> | 
            <a href="">CONTACT US</a>
          </div>
          <div class="foot_info">
            서울특별시 강남구 테헤란로 14길 6 남도빌딩 2F  |  사업자등록번호 : 123-45-67891  |  대표이사 : 김승수
            <br>Copyright ⓒ 2022 다짐 | 프라이빗 트레이닝 All rights reserved. Designed by 00dragon
          </div>
        </div>
        <div class="icons">
          <a href="" class="icon">인스타</a>
          <a href="" class="icon">페북</a>
          <a href="" class="icon">유튜브</a>
          <a href="" class="icon">머..머넣지</a>
        </div>
      </div>
    </footer>
  <script>
    const btns = document.querySelectorAll(".gnb li");
    btns.forEach((btn, index) => {
      btn.addEventListener('click', (e) =>{
        console.log(index);
        for (let item of btns){
          item.classList.remove('on');
        }
        btns[index].classList.add('on');
      });
    });
  </script>
  <script>
    const db = firebase.firestore();
    const storage = firebase.storage();
    $("#register").click(function(){
      const file = document.querySelector("#image").files[0];
    const storageRef = storage.ref();
      const storagePath = storageRef.child("image/"+file.name);
      const uploadImg = storagePath.put(file);
      uploadImg.on("state_change",null,(error)=>{
        console.log(error);
      },
      //성공했을때 동작
      ()=>{
        uploadImg.snapshot.ref.getDownloadURL().then((url)=>{
          console.log(url);
        })
      }
      )
      let cate = $(".form-select").val();
      const subject = $("#subject").val();
      const write_date = $("#write_date").val();
      const writer = $("#writer").val();
      const content = $("#content").val();
      
      db.collection('ntc').add({
          cate: cate,
                subject: subject,
                write_date: write_date,
                writer: writer,
                content : content ,
      })
          .catch((error)=> {
            console.log(error);
          })
        });
   </script>

</body>
</html>

<!-- 
  Global Navigation Bar : 전체페이지를 구성하는 메뉴 - gnb
  Local Navigation Bar  : 로컬페이지를 구성하는 메뉴 - lnb

 -->